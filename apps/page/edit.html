<div class="head" ng-if="isedit">
    <span ng-if="!title">
        <span ng-if="data._id">编辑</span>
        <span ng-if="!data._id">添加</span>
    </span>
    <span ng-if="title" ng-bind=title></span>
</div>
<div class="head" ng-if="!isedit">
    详情
</div>
<div class="body" ng-style="{height:getHeight()}">
    <!-- <field>
        <div>ID</div>
        <div><input ng-model=data._id _disabled="!isedit"></div>
    </field> -->
    <field ng-repeat="f in fields">
        <div ng-click="editField(f)">
            <span ng-bind=f.name></span>
        </div>
        <div>
            <model _readonly=!isedit||f.is_append||f.is_readonly _data=data _field=f></model>
        </div>
    </field>
    <!-- <field>
        <div>地址</div>
        <div><input ng-model=data.url _disabled="!isedit"></div>
    </field>
    <field class="icon">
        <div>图标</div>
        <div><input ng-model="data.icon" _disabled="!isedit" /></div>
        <div>
            <img ng-src="getIcon(data)" />
        </div>
    </field>
    <field>
        <div>创建时间</div>
        <div><input disabled ng-model="data.date" type=date /></div>
    </field> -->
</div>
<div class="foot" ng-if="isedit">
    <btn ng-if=save.ing>正在保存</btn>
    <btn ng-if=!save.ing ng-click="save()" disabled.=!valid>确定</btn>
    <btn type="white" ng-click="!has_rev?close():(isedit=false)">取消</btn>
</div>
<div class="foot" ng-if="!isedit">
    <btn ng-if="remove.ing" type="dark">正在删除</btn>
    <btn ng-if="!remove.ing&&has_rev" ng-click="remove()" type_="remove.confirm?'dark':'danger'">
        <span ng-if="remove.confirm">确认</span>删除
    </btn>
    <btn ng-if=save.ing>正在保存</btn>
    <btn ng-click="isedit=true">编辑</btn>
    <btn type="white" ng-if="close.ing">取消</btn>
    <btn type="white" ng-if="!close.ing" ng-click="close.ing=true,close(-1)">取消</btn>
</div>